labels:
  io.rancher.certified: CERIT-SC

rancher_min_version: 2.5.0

categories:
- Applications
- Education

questions:
- variable: ingress.hostname
  type: string
  label: Hostname
  description: "Exposed URL. If empty, default moodle-namespace.dyn.cloud.e-infra.cz will be used."
  group: "URL"

- variable: mariadb.enabled
  type: boolean
  default: true
  label: Internal MariaDB 
  group: "Storage"
  description: "Check to deploy an internal mariadb server, or uncheck to use external database."
  
- variable: externalDatabase.type
  required: true
  show_if: "mariadb.enabled=false"
  options:
    - "pgsql"
    - "mariadb"
    - "mysqli"
    - "mssql"
    - "sqlsrv"
    - "oci"
  group: "Storage"
  label: Type
  type: enum
  description: "Type of the existing database (pgsql, mariadb, mysqli, mssql, sqlsrv or oci)."
  
- variable: externalDatabase.host
  required: true
  show_if: "mariadb.enabled=false"
  type: string
  group: "Storage"
  label: Host
  description: "Host of the existing database."
  
- variable: externalDatabase.port
  required: true
  show_if: "mariadb.enabled=false"
  type: int
  group: "Storage"
  label: Port
  description: "Port of the existing database."
  
- variable: externalDatabase.user
  required: true
  show_if: "mariadb.enabled=false"
  type: string
  group: "Storage"
  label: User
  description: "Existing username in the external db."
  
- variable: externalDatabase.password
  required: true
  show_if: "mariadb.enabled=false"
  type: password
  group: "Storage"
  label: Password
  description: "Password for the above username."
  
- variable: externalDatabase.database
  required: true
  show_if: "mariadb.enabled=false"
  type: string
  group: "Storage"
  label: Database
  description: "Name of the existing database."
  
