labels:
  io.rancher.certified: CERIT-SC

rancher_min_version: 2.5.0

categories:
- Applications
- Education

questions:
- variable: ingress.hostname
  type: string
  label: Hostname
  description: "Access URL. If empty, default moodle-namespace.dyn.cloud.e-infra.cz will be used."
  group: "General"
  
- variable: moodleUsername
  type: string
  label: Moodle username
  description: "Your new Moodle username"
  required: true
  group: "General"
  
- variable: moodlePassword
  type: password
  label: Moodle password
  description: "Your new Moodle password"
  required: true
  group: "General"
  
- variable: moodleSiteName
  type: string
  label: Site name
  description: "Your moodle site's name"
  group: "General"
  
- variable: moodleEmail
  type: string
  label: Moodle e-mail
  description: "Moodle application e-mail"
  group: "General"
  required: true 
  
- variable: replicaCount
  type: int
  label: Replicas
  description: "Number of Moodle replicas"
  group: "General"
  
- variable: mariadb.enabled
  type: boolean
  default: true
  label: Internal MariaDB 
  group: "Database"
  description: "Check to deploy an internal mariadb server, or uncheck to use external database."
  
- variable: externalDatabase.type
  required: true
  show_if: "mariadb.enabled=false"
  options:
    - "pgsql"
    - "mariadb"
    - "mysqli"
    - "mssql"
    - "sqlsrv"
    - "oci"
  group: "Database"
  label: Type
  type: enum
  description: "Type of the existing database (pgsql, mariadb, mysqli, mssql, sqlsrv or oci)"
  
- variable: externalDatabase.host
  required: true
  show_if: "mariadb.enabled=false"
  type: string
  group: "Database"
  label: Host
  description: "Host of the existing database"
  
- variable: externalDatabase.port
  required: true
  show_if: "mariadb.enabled=false"
  type: int
  group: "Database"
  label: Port
  description: "Port of the existing database"
  
- variable: externalDatabase.user
  required: true
  show_if: "mariadb.enabled=false"
  type: string
  group: "Database"
  label: User
  description: "Existing username in the external db"
  
- variable: externalDatabase.password
  required: true
  show_if: "mariadb.enabled=false"
  type: password
  group: "Database"
  label: Password
  description: "Password for the above username"
  
- variable: externalDatabase.database
  required: true
  show_if: "mariadb.enabled=false"
  type: string
  group: "Database"
  label: Database
  description: "Name of the existing database"
  
